[ 
	{
		"testsuit" : "FIBARO flood sensor",
		"serviceid" : "93c06771-c725-48c2-b1ff-5c313ee312cc",
		"testcases" :	[
			{	
				"name"	: "listdevices",
				"input" :{
					"devicetype"	: "zwave"
				},
				"description"		: "List all devices in which are handled by this controller"
			},
			{
				"name" 				: "readspec",
				"input" 			: {
					"devicetype" 	: "zwave",
					"id" 			: "D_ID",
					"class"			: "CONFIGURATION",
					"command"		: "GET",
					"type"			: "DELAY_ALARM",
					"force"			: "1"
				},
				"description"		: "Get current delayed time in sensor"
			},
			{
				"name" 				: "writespec",
				"input" 			: {
					"devicetype"    : "zwave",
					"id"            : "D_ID",
					"class"         : "CONFIGURATION",
					"command"       : "SET",
					"data0"         : "DELAY_ALARM",
					"data1"         : "0",
					"data2"         : "1"
				},
				"description"		: "Set DELAY_ALARM to 0s, it turn on/off immediately when flood occur"
			},
			{
				"name" 				: "readspec",
				"input" 			: {
					"devicetype" 	: "zwave",
					"id" 			: "D_ID",
					"class"			: "CONFIGURATION",
					"command"		: "GET",
					"type"			: "DELAY_ALARM",
					"force"			: "1"
				},
				"description"		: "Get current delayed time in sensor to confirm our setting"
			},
			{
				"name" 				: "readspec",
				"input" 			: {
					"devicetype" 	: "zwave",
					"id" 			: "D_ID",
					"class"			: "ASSOCIATION",
					"command"		: "GET",
					"type"			: "ONOFF_GROUP",
					"force"			: "1"
				},
				"description"		: "Get current zwave device ASSOCIATION with FIBARO flood sensor"
			},
			{
				"name" 				: "writespec",
				"input" 			: {
					"devicetype"	: "zwave",
					"id"			: "D_ID",
					"class"			: "ASSOCIATION",
					"command"		: "SET",
					"data0"			: "ONOFF_GROUP",
					"data1"			: "79",
					"data2"			: "1"
				},
				"description"		: "Set ASSOCIATION FIBARO flood sensor with an ONFF zwave device (bulb, switch, lamp plugin...)"
			},
			{
				"name" 				: "readspec",
				"input" 			: {
					"devicetype" 	: "zwave",
					"id" 			: "D_ID",
					"class"			: "ASSOCIATION",
					"command"		: "GET",
					"type"			: "ONOFF_GROUP",
					"force"			: "1"
				}
				,
				"description"		: "Get current zwave device ASSOCIATION with FIBARO flood sensor"
			},
			{
				"name" 				: "readspec",
				"input" 			: {
					"devicetype" 	: "zwave",
					"id" 			: "D_ID",
					"class"			: "ASSOCIATION",
					"command"		: "GET",
					"type"			: "TAMPER_ALARM",
					"force"			: "1"
				},
				"description"		: "Get currently TAMPER_ALARM setting"
			},
			{
				"name" 				: "writespec",
				"input" 			: {
					"devicetype"	: "zwave",
					"id"			: "D_ID",
					"class"			: "ASSOCIATION",
					"command"		: "SET",
					"data0"			: "TAMPER_ALARM",
					"data1"			: "7C",
					"data2"			: "1"
				},
				"description"		: "Set associated device for getting TAMPER_ALARM information"
			},
			{
				"name" 				: "readspec",
				"input" 			: {
					"devicetype" 	: "zwave",
					"id" 			: "D_ID",
					"class"			: "ASSOCIATION",
					"command"		: "GET",
					"type"			: "TAMPER_ALARM",
					"force"			: "1"
				},
				"description"		: "Verify TAMPER_ALARM setting"
			},
			{
				"name" 				: "readspec",
				"input" 			: {
					"devicetype" 	: "zwave",
					"id" 			: "D_ID",
					"class"			: "ASSOCIATION",
					"command"		: "GET",
					"type"			: "REPORT_GROUP",
					"force"			: "1"
				},
				"description"		: "Get current setting of REPORT_GROUP status"
			},
			{
				"name" 				: "writespec",
				"input" 			: {
					"devicetype"	: "zwave",
					"id"			: "D_ID",
					"class"			: "ASSOCIATION",
					"command"		: "SET",
					"data0"			: "REPORT_GROUP",
					"data1"			: "7D",
					"data2"			: "1"
				},
				"description"		: "Set associated device for getting REPORT information"
			},
			{
				"name" 				: "readspec",
				"input" 			: {
					"devicetype" 	: "zwave",
					"id" 			: "D_ID",
					"class"			: "ASSOCIATION",
					"command"		: "GET",
					"type"			: "REPORT_GROUP",
					"force"			: "1"
				},
				"description"		: "Get current setting of REPORT_GROUP status, verify setting"
			},
			{
				"name" : "readspec",
				"input" : {
					"devicetype" 	: "zwave",
					"id" 			: "D_ID",
					"class"			: "BATTERY",
					"command"		: "GET",
					"force"			: "1"
				},
				"description"		: "Get current BATTERY level of this FIBARO sensor"
			},
			{
				"name" 				: "readspec",
				"input" 			: {
					"devicetype" 	: "zwave",
					"id" 			: "D_ID",
					"class"			: "CONFIGURATION",
					"command"		: "GET",
					"type"			: "ALARM_BOARDCAST",
					"force"			: "1"
				},
				"description"		: "Get current setting of ALARM_BOARDCAST configuration"
			},
			{
				"name" 				: "writespec",
				"input" 			: {
					"devicetype"    : "zwave",
					"id"            : "D_ID",
					"class"         : "CONFIGURATION",
					"command"       : "SET",
					"data0"         : "ALARM_BOARDCAST",
					"data1"         : "0",
					"data2"         : "1"
				},
				"description"		: "Disable ALARM_BOARDCAST configuration"
			},
			{
				"name" 				: "readspec",
				"input" 			: {
					"devicetype" 	: "zwave",
					"id" 			: "D_ID",
					"class"			: "CONFIGURATION",
					"command"		: "GET",
					"type"			: "ALARM_BOARDCAST",
					"force"			: "1"
				},
				"description"		: "Verify value of ALARM_BOARDCAST which you set before"
			},
			{
				"name"				: "waitingfor",
				"input"				: {
					"devicetype"    : "zwave",
					"id"            : "D_ID",
					"time"			: "30"
				},
				"description"		: "Wait 30s and try to trigger flood alarm and observe the associated ONFF zwave device"
			},
			{
				"name" 				: "writespec",
				"input" 			: {
					"devicetype"    : "zwave",
					"id"            : "D_ID",
					"class"         : "CONFIGURATION",
					"command"       : "SET",
					"data0"         : "ALARM_BOARDCAST",
					"data1"         : "1",
					"data2"         : "1"
				},
				"description"		: "Configure ALARM_BOARDCAST: Broadcast active, tamper broadcast inactive"
			},
			{
				"name" 				: "readspec",
				"input" 			: {
					"devicetype" 	: "zwave",
					"id" 			: "D_ID",
					"class"			: "CONFIGURATION",
					"command"		: "GET",
					"type"			: "ALARM_BOARDCAST",
					"force"			: "1"
				},
				"description"		: "Verify value of ALARM_BOARDCAST which you set before"
			},
			{
				"name"				: "waitingfor",
				"input"				: {
					"devicetype"    : "zwave",
					"id"            : "D_ID",
					"time"			: "30"
				},
				"description"		: "Wait 30s and try to trigger flood alarm and observe all associated ONFF zwave devices"
			},
			{
				"name" 				: "writespec",
				"input" 			: {
					"devicetype"    : "zwave",
					"id"            : "D_ID",
					"class"         : "CONFIGURATION",
					"command"       : "SET",
					"data0"         : "ALARM_BOARDCAST",
					"data1"         : "2",
					"data2"         : "1"
				},
				"description"		: "Configure ALARM_BOARDCAST: Broadcast inactive, tamper broadcast active"
			},
			{
				"name" 				: "readspec",
				"input" 			: {
					"devicetype" 	: "zwave",
					"id" 			: "D_ID",
					"class"			: "CONFIGURATION",
					"command"		: "GET",
					"type"			: "ALARM_BOARDCAST",
					"force"			: "1"
				},
				"description"		: "Verify value of ALARM_BOARDCAST which you set before"
			},
			{
				"name"				: "waitingfor",
				"input"				: {
					"devicetype"    : "zwave",
					"id"            : "D_ID",
					"time"			: "30"
				},
				"description"		: "Wait 30s and try to trigger flood alarm and observe the associated ONFF zwave device"
			},
			{
				"name" 				: "writespec",
				"input" 			: {
					"devicetype"    : "zwave",
					"id"            : "D_ID",
					"class"         : "CONFIGURATION",
					"command"       : "SET",
					"data0"         : "ALARM_BOARDCAST",
					"data1"         : "3",
					"data2"         : "1"
				},
				"description"		: "Configure ALARM_BOARDCAST: Broadcast active, tamper broadcast active"
			},
			{
				"name" 				: "readspec",
				"input" 			: {
					"devicetype" 	: "zwave",
					"id" 			: "D_ID",
					"class"			: "CONFIGURATION",
					"command"		: "GET",
					"type"			: "ALARM_BOARDCAST",
					"force"			: "1"
				},
				"description"		: "Verify value of ALARM_BOARDCAST which you set before"
			},
			{
				"name"				: "waitingfor",
				"input"				: {
					"devicetype"    : "zwave",
					"id"            : "D_ID",
					"time"			: "30"
				},
				"description"		: "Wait 30s and try to trigger flood alarm and observe the associated ONFF zwave device, all are active"
			},
			{
				"name" 				: "readspec",
				"input" 			: {
					"devicetype" 	: "zwave",
					"id" 			: "D_ID",
					"class"			: "CONFIGURATION",
					"command"		: "GET",
					"type"			: "DISABLE",
					"force"			: "1"
				},
				"description"		: "Get current configuration of REPORT when flood is dectected/cancelled"
			},
			{
				"name" 				: "writespec",
				"input" 			: {
					"devicetype"    : "zwave",
					"id"            : "D_ID",
					"class"         : "CONFIGURATION",
					"command"       : "SET",
					"data0"         : "DISABLE",
					"data1"         : "0",
					"data2"         : "1"
				},
				"description"		: "Set this configuration to report only to controller, do not turn on/off zwave devices"
			},
			{
				"name" 				: "readspec",
				"input" 			: {
					"devicetype" 	: "zwave",
					"id" 			: "D_ID",
					"class"			: "CONFIGURATION",
					"command"		: "GET",
					"type"			: "DISABLE",
					"force"			: "1"
				},
				"description"		: "Get current configuration disable status to verify your setup"
			},
			{
				"name" 				: "writespec",
				"input" 			: {
					"devicetype"    : "zwave",
					"id"            : "D_ID",
					"class"         : "CONFIGURATION",
					"command"       : "SET",
					"data0"         : "DISABLE",
					"data1"         : "FF",
					"data2"         : "1"
				},
				"description"		: "Set this configuration to report by turn on/off  zwave devices and report to controller"
			},
			{
				"name" 				: "readspec",
				"input" 			: {
					"devicetype" 	: "zwave",
					"id" 			: "D_ID",
					"class"			: "CONFIGURATION",
					"command"		: "GET",
					"type"			: "DISABLE",
					"force"			: "1"
				},
				"description"		: "Get current configuration disable status to verify your setup"
			},
			{
				"name" 				: "writespec",
				"input" 			: {
					"devicetype"    : "zwave",
					"id"            : "D_ID",
					"class"         : "CONFIGURATION",
					"command"       : "SET",
					"data0"         : "DELAY_ALARM",
					"data1"         : "0E10",
					"data2"         : "1"
				},
				"description"		: "Set duration on/off up to 3600 seconds."
			},
			{
				"name" 				: "readspec",
				"input" 			: {
					"devicetype" 	: "zwave",
					"id" 			: "D_ID",
					"class"			: "CONFIGURATION",
					"command"		: "GET",
					"type"			: "DELAY_ALARM",
					"force"			: "1"
				},
				"description"		: "Verify the delayed time is 3600 seconds? or not"
			},
			{
				"name" 				: "writespec",
				"input" 			: {
					"devicetype"    : "zwave",
					"id"            : "D_ID",
					"class"         : "CONFIGURATION",
					"command"       : "SET",
					"data0"         : "DELAY_ALARM",
					"data1"         : "5",
					"data2"         : "1"
				},
				"description"		: "Set delayed time on/off to 5 seconds."
			},
			{
				"name" 				: "readspec",
				"input" 			: {
					"devicetype" 	: "zwave",
					"id" 			: "D_ID",
					"class"			: "CONFIGURATION",
					"command"		: "GET",
					"type"			: "DELAY_ALARM",
					"force"			: "1"
				},
				"description"		: "Verify the delayed time report is 5 seconds?"
			},
			{
				"name"				: "waitingfor",
				"input"				: {
					"devicetype"    : "zwave",
					"id"            : "D_ID",
					"time"			: "30"
				},
				"description"		: "Wait 30s and try to trigger flood alarm and observe the associated ONFF zwave device, all are active"
			},
			{
				"name" 				: "writespec",
				"input" 			: {
					"devicetype"    : "zwave",
					"id"            : "D_ID",
					"class"         : "ASSOCIATION",
					"command"       : "REMOVE",
					"data0"         : "ONOFF_GROUP",
					"data1"         : "79",
					"data2"         : "1"
				},
				"description"		: "Remove device has been associated before"
			},
			{
                "name"              : "readspec",
                "input"             : {
                    "devicetype"    : "zwave",
                    "id"            : "D_ID",
                    "class"         : "ASSOCIATION",
                    "command"       : "GET",
                    "type"          : "ONOFF_GROUP",
                    "force"			: "1"
                },
                "description"		: "Verify that the associated device was removed or not?"
            },
			{
				"name" 				: "writespec",
				"input" 			: {
					"devicetype"    : "zwave",
					"id"            : "D_ID",
					"class"         : "ASSOCIATION",
					"command"       : "REMOVE",
					"data0"         : "REPORT_GROUP",
					"data1"         : "7C",
					"data2"         : "1"
				},
				"description"		: "Remove device has been associated before"
			},
			{
                "name"              : "readspec",
                "input"             : {
                    "devicetype"    : "zwave",
                    "id"            : "D_ID",
                    "class"         : "ASSOCIATION",
                    "command"       : "GET",
                    "type"          : "REPORT_GROUP",
                    "force"			: "1"
                },
                "description"		: "Verify that the associated device was removed or not?"
            },
			{
				"name" 				: "writespec",
				"input" 			: {
					"devicetype"    : "zwave",
					"id"            : "D_ID",
					"class"         : "ASSOCIATION",
					"command"       : "REMOVE",
					"data0"         : "TAMPER_GROUP",
					"data1"         : "7D",
					"data2"         : "1"
				},
				"description"		: "Remove device has been associated before"
			},
			{
                "name"              : "readspec",
                "input"             : {
                    "devicetype"    : "zwave",
                    "id"            : "D_ID",
                    "class"         : "ASSOCIATION",
                    "command"       : "GET",
                    "type"          : "TAMPER_GROUP",
                    "force"			: "1"
                },
                "description"		: "Verify that the associated device was removed or not?"
            }
		]
	}
]
